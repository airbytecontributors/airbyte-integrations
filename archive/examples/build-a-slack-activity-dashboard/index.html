<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-archive/examples/build-a-slack-activity-dashboard">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<title data-rh="true">Build a Slack Activity Dashboard | Airbyte Documentation</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.airbyte.com//airbyte/archive/examples/build-a-slack-activity-dashboard"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Build a Slack Activity Dashboard | Airbyte Documentation"><meta data-rh="true" name="description" content="Using Airbyte and Apache Superset"><meta data-rh="true" property="og:description" content="Using Airbyte and Apache Superset"><link data-rh="true" rel="icon" href="/airbyte/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.airbyte.com//airbyte/archive/examples/build-a-slack-activity-dashboard"><link data-rh="true" rel="alternate" href="https://docs.airbyte.com//airbyte/archive/examples/build-a-slack-activity-dashboard" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.airbyte.com//airbyte/archive/examples/build-a-slack-activity-dashboard" hreflang="x-default"><link rel="stylesheet" href="/airbyte/assets/css/styles.d30a4f2e.css">
<link rel="preload" href="/airbyte/assets/js/runtime~main.abcfd732.js" as="script">
<link rel="preload" href="/airbyte/assets/js/main.1a15e96e.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/airbyte/"><div class="navbar__logo"><img src="/airbyte/img/logo-dark.png" alt="Simple, secure and extensible data integration" class="themedImage_W2Cr themedImage--light_TfLj" height="40" width="140"><img src="/airbyte/img/logo-light.png" alt="Simple, secure and extensible data integration" class="themedImage_W2Cr themedImage--dark_oUvU" height="40" width="140"></div><b class="navbar__title"></b></a><a href="https://airbyte.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://status.airbyte.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://airbyte.io/recipes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Recipes<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discuss.airbyte.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discourse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><main class="docMainContainer_TCnq docMainContainerEnhanced_WDCb"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Build a Slack Activity Dashboard</h1><p><img loading="lazy" src="/airbyte/assets/images/46-403db245d51348fd3fd3346bc84a0998.png" width="2166" height="1244" class="img_E7b_"></p><p>This article will show how to use <a href="http://airbyte.io" target="_blank" rel="noopener noreferrer">Airbyte</a> - an open-source data integration platform - and <a href="https://superset.apache.org/" target="_blank" rel="noopener noreferrer">Apache Superset</a> - an open-source data exploration platform - in order to build a Slack activity dashboard showing:</p><ul><li>Total number of members of a Slack workspace</li><li>The evolution of the number of Slack workspace members</li><li>Evolution of weekly messages</li><li>Evolution of messages per channel</li><li>Members per time zone</li></ul><p>Before we get started, let’s take a high-level look at how we are going to achieve creating a Slack dashboard using Airbyte and Apache Superset.</p><ol><li>We will use the Airbyte’s Slack connector to get the data off a Slack workspace <!-- -->(<!-- -->we will be using Airbyte’s own Slack workspace for this tutorial<!-- -->)<!-- -->.</li><li>We will save the data onto a PostgreSQL database.</li><li>Finally, using Apache Superset, we will implement the various metrics we care about.</li></ol><p>Got it? Now let’s get started.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="1-replicating-data-from-slack-to-postgres-with-airbyte">1. Replicating Data from Slack to Postgres with Airbyte<a class="hash-link" href="#1-replicating-data-from-slack-to-postgres-with-airbyte" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="a-deploying-airbyte">a. Deploying Airbyte<a class="hash-link" href="#a-deploying-airbyte" title="Direct link to heading">​</a></h3><p>There are several easy ways to deploy Airbyte, as listed <a href="https://docs.airbyte.io/" target="_blank" rel="noopener noreferrer">here</a>. For this tutorial, I will just use the <a href="https://docs.airbyte.io/deploying-airbyte/local-deployment" target="_blank" rel="noopener noreferrer">Docker Compose method</a> from my workstation:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"># In your workstation terminal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/airbytehq/airbyte.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd airbyte</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose up</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>The above command will make the Airbyte app available on <code>localhost:8000</code>. Visit the URL on your favorite browser, and you should see Airbyte’s dashboard <!-- -->(<!-- -->if this is your first time, you will be prompted to enter your email to get started<!-- -->)<!-- -->.</p><p>If you haven’t set Docker up, follow the <a href="https://docs.docker.com/desktop/" target="_blank" rel="noopener noreferrer">instructions here</a> to set it up on your machine.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="b-setting-up-airbytes-slack-source-connector">b. Setting Up Airbyte’s Slack Source Connector<a class="hash-link" href="#b-setting-up-airbytes-slack-source-connector" title="Direct link to heading">​</a></h3><p>Airbyte’s Slack connector will give us access to the data. So, we are going to kick things off by setting this connector to be our data source in Airbyte’s web app. I am assuming you already have Airbyte and Docker set up on your local machine. We will be using Docker to create our PostgreSQL database container later on.</p><p>Now, let’s proceed. If you already went through the onboarding, click on the “new source” button at the top right of the Sources section. If you&#x27;re going through the onboarding, then follow the instructions.</p><p>You will be requested to enter a name for the source you are about to create. You can call it “slack-source”. Then, in the Source Type combo box, look for “Slack,” and then select it. Airbyte will then present the configuration fields needed for the Slack connector. So you should be seeing something like this on the Airbyte App:</p><p><img loading="lazy" src="/airbyte/assets/images/1-e7f6716f2b2c12c6e74f51bb448bfbed.png" width="2778" height="1782" class="img_E7b_"></p><p>The first thing you will notice is that this connector requires a Slack token. So, we have to obtain one. If you are not a workspace admin, you will need to ask for permission.</p><p>Let’s walk through how we would get the Slack token we need.</p><p>Assuming you are a workspace admin, open the Slack workspace and navigate to <!-- -->[<!-- -->Workspace Name<!-- -->]<!-- --> <!-- -->&gt;<!-- --> Administration <!-- -->&gt;<!-- --> Customize <!-- -->[<!-- -->Workspace Name<!-- -->]<!-- -->. In our case, it will be Airbyte <!-- -->&gt;<!-- --> Administration <!-- -->&gt;<!-- --> Customize Airbyte <!-- -->(<!-- -->as shown below<!-- -->)<!-- -->:</p><p><img loading="lazy" src="/airbyte/assets/images/2-32c4f1383db959f2ac0b3abd3ed1c30a.png" width="2796" height="1312" class="img_E7b_"></p><p>In the new page that opens up in your browser, you will then need to navigate to <strong>Configure apps</strong>.</p><p><img loading="lazy" src="/airbyte/assets/images/3-76b95f9a3221543358c2cc142fe781bb.png" width="2800" height="1408" class="img_E7b_"></p><p>In the new window that opens up, click on <strong>Build</strong> in the top right corner.</p><p><img loading="lazy" src="/airbyte/assets/images/4-bd316f34e4cf1d1eee7bc7641945c905.png" width="2804" height="632" class="img_E7b_"></p><p>Click on the <strong>Create an App</strong> button.</p><p><img loading="lazy" src="/airbyte/assets/images/5-ad4adbe33f7984980ad929420190edd8.png" width="2810" height="1096" class="img_E7b_"></p><p>In the modal form that follows, give your app a name - you can name it <code>airbyte_superset</code>, then select your workspace from the Development Slack Workspace.</p><p><img loading="lazy" src="/airbyte/assets/images/6-6b95dbf8c16c04e5ec6a47f3b34501e9.png" width="2242" height="1812" class="img_E7b_"></p><p>Next, click on the <strong>Create App</strong> button. You will then be presented with a screen where we are going to set permissions for our <code>airbyte_superset</code> app, by clicking on the <strong>Permissions</strong> button on this page.</p><p><img loading="lazy" src="/airbyte/assets/images/7-ece928592b148c4cce1e237e9c458941.png" width="2056" height="1516" class="img_E7b_"></p><p>In the next screen, navigate to the scope section. Then, click on the <strong>Add an OAuth Scope</strong> button. This will allow you to add permission scopes for your app. At a minimum, your app should have the following permission scopes:</p><p><img loading="lazy" src="/airbyte/assets/images/8-d6d4b6c336cf2110f6657c0d21a3e6a4.png" width="1212" height="1854" class="img_E7b_"></p><p>Then, we are going to add our created app to the workspace by clicking the <strong>Install to Workspace</strong> button.</p><p><img loading="lazy" src="/airbyte/assets/images/9-d6d74a8557b568af0b85f2f3701a7d43.png" width="1808" height="688" class="img_E7b_"></p><p>Slack will prompt you that your app is requesting permission to access your workspace of choice. Click Allow.</p><p><img loading="lazy" src="/airbyte/assets/images/10-7a6286eb537c4ccd3e68a5c453b5876f.png" width="1784" height="674" class="img_E7b_"></p><p>After the app has been successfully installed, you will be navigated to Slack’s dashboard, where you will see the Bot User OAuth Access Token.</p><p>This is the token you will provide back on the Airbyte page, where we dropped off to obtain this token. So make sure to copy it and keep it in a safe place.</p><p>Now that we are done with obtaining a Slack token, let’s go back to the Airbyte page we dropped off and add the token in there.</p><p>We will also need to provide Airbyte with <code>start_date</code>. This is the date from which we want Airbyte to start replicating data from the Slack API, and we define that in the format: <code>YYYY-MM-DDT00:00:00Z</code>.</p><p>We will specify ours as <code>2020-09-01T00:00:00Z</code>. We will also tell Airbyte to exclude archived channels and not include private channels, and also to join public channels, so the latter part of the form should look like this:</p><p><img loading="lazy" src="/airbyte/assets/images/11-84743647712775e01356f63489cdaa62.png" width="1808" height="588" class="img_E7b_"></p><p>Finally, click on the <strong>Set up source</strong> button for Airbyte to set the Slack source up.</p><p>If the source was set up correctly, you will be taken to the destination section of Airbyte’s dashboard, where you will tell Airbyte where to store the replicated data.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="c-setting-up-airbytes-postgres-destination-connector">c. Setting Up Airbyte’s Postgres Destination Connector<a class="hash-link" href="#c-setting-up-airbytes-postgres-destination-connector" title="Direct link to heading">​</a></h3><p>For our use case, we will be using PostgreSQL as the destination.</p><p>Click the <strong>add destination</strong> button in the top right corner, then click on <strong>add a new destination</strong>.</p><p><img loading="lazy" src="/airbyte/assets/images/12-fe87d48c195c19a7d02bb39eca0b5313.png" width="1924" height="546" class="img_E7b_"></p><p>In the next screen, Airbyte will validate the source, and then present you with a form to give your destination a name. We’ll call this destination slack-destination. Then, we will select the Postgres destination type. Your screen should look like this now:</p><p><img loading="lazy" src="/airbyte/assets/images/13-4173d466ceb6134b326cbf30daf16ff0.png" width="1924" height="1106" class="img_E7b_"></p><p>Great! We have a form to enter Postgres connection credentials, but we haven’t set up a Postgres database. Let’s do that!</p><p>Since we already have Docker installed, we can spin off a Postgres container with the following command in our terminal:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">docker run --rm --name slack-db -e POSTGRES_PASSWORD=password -p 2000:5432 -d postgres</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>(<!-- -->Note that the Docker compose file for Superset ships with a Postgres database, as you can see <a href="https://github.com/apache/superset/blob/master/docker-compose.yml#L40" target="_blank" rel="noopener noreferrer">here</a>)<!-- -->.</p><p>The above command will do the following:</p><ul><li>create a Postgres container with the name slack-db,</li><li>set the password to password,</li><li>expose the container’s port 5432, as our machine’s port 2000. </li><li>create a database and a user, both called postgres. </li></ul><p>With this, we can go back to the Airbyte screen and supply the information needed. Your form should look like this:</p><p><img loading="lazy" src="/airbyte/assets/images/14-adaa8a8473c3ed649fe5aab5056577a2.png" width="1920" height="1108" class="img_E7b_"></p><p>Then click on the <strong>Set up destination</strong> button.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="d-setting-up-the-replication">d. Setting Up the Replication<a class="hash-link" href="#d-setting-up-the-replication" title="Direct link to heading">​</a></h3><p>You should now see the following screen:</p><p><img loading="lazy" src="/airbyte/assets/images/15-19262a471b9d94a9f5d007d1cd751579.png" width="1926" height="1106" class="img_E7b_"></p><p>Airbyte will then fetch the schema for the data coming from the Slack API for your workspace. You should leave all boxes checked and then choose the sync frequency - this is the interval in which Airbyte will sync the data coming from your workspace. Let’s set the sync interval to every 24 hours.</p><p>Then click on the <strong>Set up connection</strong> button.</p><p>Airbyte will now take you to the destination dashboard, where you will see the destination you just set up. Click on it to see more details about this destination.</p><p><img loading="lazy" src="/airbyte/assets/images/16-36a0b7e960618068daace8e0fdf0b99c.png" width="1924" height="1110" class="img_E7b_"></p><p>You will see Airbyte running the very first sync. Depending on the size of the data Airbyte is replicating, it might take a while before syncing is complete.</p><p><img loading="lazy" src="/airbyte/assets/images/17-d683aa8508d81043e40ede2aa2f9bef6.png" width="1928" height="1106" class="img_E7b_"></p><p>When it’s done, you will see the <strong>Running status</strong> change to <strong>Succeeded</strong>, and the size of the data Airbyte replicated as well as the number of records being stored on the Postgres database.</p><p><img loading="lazy" src="/airbyte/assets/images/18-c4f1a9c7a3c8b092677293d470cc32ca.png" width="1928" height="348" class="img_E7b_"></p><p>To test if the sync worked, run the following in your terminal:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">docker exec slack-source psql -U postgres -c &quot;SELECT * FROM public.users;&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>This should output the rows in the users’ table.</p><p>To get the count of the users’ table as well, you can also run:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">docker exec slack-db psql -U postgres -c &quot;SELECT count(*) FROM public.users;&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Now that we have the data from the Slack workspace in our Postgres destination, we will head on to creating the Slack dashboard with Apache Superset.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="2-setting-up-apache-superset-for-the-dashboards">2. Setting Up Apache Superset for the Dashboards<a class="hash-link" href="#2-setting-up-apache-superset-for-the-dashboards" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="a-installing-apache-superset">a. Installing Apache Superset<a class="hash-link" href="#a-installing-apache-superset" title="Direct link to heading">​</a></h3><p>Apache Superset, or simply Superset, is a modern data exploration and visualization platform. To get started using it, we will be cloning the Superset repo. Navigate to a destination in your terminal where you want to clone the Superset repo to and run:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/apache/superset.git</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>It’s recommended to check out the latest branch of Superset, so run:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">cd superset</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>And then run:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">git checkout latest</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Superset needs you to install and build its frontend dependencies and assets. So, we will start by installing the frontend dependencies:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">npm install</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Note: The above command assumes you have both Node and NPM installed on your machine.</p><p>Finally, for the frontend, we will build the assets by running:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">npm run build</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>After that, go back up one directory into the Superset directory by running:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">cd..</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Then run:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose up</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>This will download the Docker images Superset needs and build containers and start services Superset needs to run locally on your machine.</p><p>Once that’s done, you should be able to access Superset on your browser by visiting <a href="http://localhost:8088" target="_blank" rel="noopener noreferrer"><code>http://localhost:8088</code></a>, and you should be presented with the Superset login screen.</p><p>Enter username: <strong>admin</strong> and Password: <strong>admin</strong> to be taken to your Superset dashboard.</p><p>Great! You’ve got Superset set up. Now let’s tell Superset about our Postgres Database holding the Slack data from Airbyte.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="b-setting-up-a-postgres-database-in-superset">b. Setting Up a Postgres Database in Superset<a class="hash-link" href="#b-setting-up-a-postgres-database-in-superset" title="Direct link to heading">​</a></h3><p>To do this, on the top menu in your Superset dashboard, hover on the Data dropdown and click on <strong>Databases</strong>.</p><p><img loading="lazy" src="/airbyte/assets/images/19-1a065fec1eb054362be9743d5e480f27.png" width="2168" height="1280" class="img_E7b_"></p><p>In the page that opens up, click on the <strong>+ Database</strong> button in the top right corner.</p><p><img loading="lazy" src="/airbyte/assets/images/20-1331b3d60bb6754851887efe4a8d0e78.png" width="2168" height="1280" class="img_E7b_"></p><p>Then, you will be presented with a modal to add your Database Name and the connection URI.</p><p><img loading="lazy" src="/airbyte/assets/images/21-8904fa320cf652f9b22427f983be8444.png" width="2162" height="1280" class="img_E7b_"></p><p>Let’s call our Database <code>slack_db</code>, and then add the following URI as the connection URI:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">postgresql://postgres:password@docker.for.mac.localhost:2000/postgres</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>If you are on a Windows Machine, yours will be:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">postgresql://postgres:password@docker.for.win.localhost:2000/postgres</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Note: We are using <code>docker.for.[mac|win].localhost</code> in order to access the localhost of your machine, because using just localhost will point to the Docker container network and not your machine’s network.</p><p>Your Superset UI should look like this:</p><p><img loading="lazy" src="/airbyte/assets/images/22-4cee5870f4a8b29e2dac986fd7ee5890.png" width="2166" height="1278" class="img_E7b_"></p><p>We will need to enable some settings on this connection. Click on the <strong>SQL LAB SETTINGS</strong> and check the following boxes:</p><p><img loading="lazy" src="/airbyte/assets/images/23-e78f3e23f8b2cdd3d0af3d2ccb8206d3.png" width="2162" height="1278" class="img_E7b_"></p><p>Afterwards, click on the <strong>ADD</strong> button, and you will see your database on the data page of Superset.</p><p><img loading="lazy" src="/airbyte/assets/images/24-6dd579afcba8d0ad08ff75c682d2d3e3.png" width="2160" height="1280" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="c-importing-our-dataset">c. Importing our dataset<a class="hash-link" href="#c-importing-our-dataset" title="Direct link to heading">​</a></h3><p>Now that you’ve added the database, you will need to hover over the data menu again; now click on <strong>Datasets</strong>.</p><p><img loading="lazy" src="/airbyte/assets/images/25-91e5fde5a0dfdca7827c54ceefc988fd.png" width="2164" height="1278" class="img_E7b_"></p><p>Then, you will be taken to the datasets page:</p><p><img loading="lazy" src="/airbyte/assets/images/26-37734db404d01ae2a4380036d1eb8734.png" width="2164" height="1282" class="img_E7b_"></p><p>We want to only see the datasets that are in our <code>slack_db</code> database, so in the Database that is currently showing All, select <code>slack_db</code> and you will see that we don’t have any datasets at the moment.</p><p><img loading="lazy" src="/airbyte/assets/images/27-9a9ab1334cececbc3afd73c34b140299.png" width="2164" height="1282" class="img_E7b_"></p><p><img loading="lazy" src="/airbyte/assets/images/28-e2d93d83f56eb83af8fdff59b586fbf7.png" width="2160" height="1278" class="img_E7b_"></p><p>You can fix this by clicking on the <strong>+ DATASET</strong> button and adding the following datasets.</p><p>Note: Make sure you select the public schema under the Schema dropdown.</p><p><img loading="lazy" src="/airbyte/assets/images/29-422d5ed3fb9d0415ef751421e7b1f2e3.png" width="2160" height="1276" class="img_E7b_"></p><p>Now that we have set up Superset and given it our Slack data, let’s proceed to creating the visualizations we need.</p><p>Still remember them? Here they are again:</p><ul><li>Total number of members of a Slack workspace</li><li>The evolution of the number of Slack workspace members</li><li>Evolution of weekly messages</li><li>Evolution of weekly threads created</li><li>Evolution of messages per channel</li><li>Members per time zone</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="3-creating-our-dashboards-with-superset">3. Creating Our Dashboards with Superset<a class="hash-link" href="#3-creating-our-dashboards-with-superset" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="a-total-number-of-members-of-a-slack-workspace">a. Total number of members of a Slack workspace<a class="hash-link" href="#a-total-number-of-members-of-a-slack-workspace" title="Direct link to heading">​</a></h3><p>To get this, we will first click on the users’ dataset of our <code>slack_db</code> on the Superset dashboard.</p><p><img loading="lazy" src="/airbyte/assets/images/30-62c234daf6c22e5c1993dfb59a61c91e.png" width="2162" height="1282" class="img_E7b_"></p><p>Next, change <strong>untitled</strong> at the top to <strong>Number of Members</strong>.</p><p><img loading="lazy" src="/airbyte/assets/images/31-d7d4701b83796f3fc14516d0e16ec14d.png" width="2158" height="1276" class="img_E7b_"></p><p>Now change the <strong>Visualization Type</strong> to <strong>Big Number,</strong> remove the <strong>Time Range</strong> filter, and add a Subheader named “Slack Members.” So your UI should look like this:</p><p><img loading="lazy" src="/airbyte/assets/images/32-bd3f2471ef6feb45cc18503c8e4e3748.png" width="2164" height="1278" class="img_E7b_"></p><p>Then, click on the <strong>RUN QUERY</strong> button, and you should now see the total number of members.</p><p>Pretty cool, right? Now let’s save this chart by clicking on the <strong>SAVE</strong> button.</p><p><img loading="lazy" src="/airbyte/assets/images/33-1837e207a1ffb89137638ca899388fd4.png" width="2088" height="304" class="img_E7b_"></p><p>Then, in the <strong>ADD TO DASHBOARD</strong> section, type in “Slack Dashboard”, click on the “Create Slack Dashboard” button, and then click the <strong>Save</strong> button.</p><p>Great! We have successfully created our first Chart, and we also created the Dashboard. Subsequently, we will be following this flow to add the other charts to the created Slack Dashboard.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="b-casting-the-ts-column">b. Casting the ts column<a class="hash-link" href="#b-casting-the-ts-column" title="Direct link to heading">​</a></h3><p>Before we proceed with the rest of the charts for our dashboard, if you inspect the <strong>ts</strong> column on either the <strong>messages</strong> table or the <strong>threads</strong> table, you will see it’s of the type <code>VARCHAR</code>. We can’t really use this for our charts, so we have to cast both the <strong>messages</strong> and <strong>threads</strong>’ <strong>ts</strong> column as <code>TIMESTAMP</code>. Then, we can create our charts from the results of those queries. Let’s do this.</p><p>First, navigate to the <strong>Data</strong> menu, and click on the <strong>Datasets</strong> link. In the list of datasets, click the <strong>Edit</strong> button for the <strong>messages</strong> table.</p><p><img loading="lazy" src="/airbyte/assets/images/34-9da7cb38509d21d0e92f0a28795bc90b.png" width="2172" height="920" class="img_E7b_"></p><p>You’re now in the Edit Dataset view. Click the <strong>Lock</strong> button to enable editing of the dataset. Then, navigate to the <strong>Columns</strong> tab, expand the <strong>ts</strong> dropdown, and then tick the <strong>Is Temporal</strong> box.</p><p><img loading="lazy" src="/airbyte/assets/images/35-f995bc825f7606cf70a37f36344a111e.png" width="2162" height="1624" class="img_E7b_"></p><p>Persist the changes by clicking the Save button.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="c-the-evolution-of-the-number-of-slack-workspace-members">c. The evolution of the number of Slack workspace members<a class="hash-link" href="#c-the-evolution-of-the-number-of-slack-workspace-members" title="Direct link to heading">​</a></h3><p>In the exploration page, let’s first get the chart showing the evolution of the number of Slack members. To do this, make your settings on this page match the screenshot below:</p><p><img loading="lazy" src="/airbyte/assets/images/36-86538a5eefd0648e5906ef0d06490978.png" width="2170" height="1262" class="img_E7b_"></p><p>Save this chart onto the Slack Dashboard.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="d-evolution-of-weekly-messages-posted">d. Evolution of weekly messages posted<a class="hash-link" href="#d-evolution-of-weekly-messages-posted" title="Direct link to heading">​</a></h3><p>Now, we will look at the evolution of weekly messages posted. Let’s configure the chart settings on the same page as the previous one.</p><p><img loading="lazy" src="/airbyte/assets/images/37-8a5e4c6c92efd43dc30709311a505187.png" width="2170" height="1450" class="img_E7b_"></p><p>Remember, your visualization will differ based on the data you have.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="e-evolution-of-weekly-threads-created">e. Evolution of weekly threads created<a class="hash-link" href="#e-evolution-of-weekly-threads-created" title="Direct link to heading">​</a></h3><p>Now, we are finished with creating the message chart. Let&#x27;s go over to the thread chart. You will recall that we will need to cast the <strong>ts</strong> column as stated earlier. So, do that and get to the exploration page, and make it match the screenshot below to achieve the required visualization:</p><p><img loading="lazy" src="/airbyte/assets/images/38-64f8821ccfed0bc466f5927eae55f082.png" width="2166" height="1452" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="f-evolution-of-messages-per-channel">f. Evolution of messages per channel<a class="hash-link" href="#f-evolution-of-messages-per-channel" title="Direct link to heading">​</a></h3><p>For this visualization, we will need a more complex SQL query. Here’s the query we used <!-- -->(<!-- -->as you can see in the screenshot below<!-- -->)<!-- -->:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">SELECT CAST(m.ts as TIMESTAMP), c.name, m.text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM public.messages m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INNER JOIN public.channels c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ON m.channel_id = c_id</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><img loading="lazy" src="/airbyte/assets/images/39-2b8fbabfe0b417be780b58f5df1b165e.png" width="2166" height="1606" class="img_E7b_"></p><p>Next, click on <strong>EXPLORE</strong> to be taken to the exploration page; make it match the screenshot below:</p><p><img loading="lazy" src="/airbyte/assets/images/40-52417acf066f02dfd5b015e573a0f41d.png" width="2170" height="1446" class="img_E7b_"></p><p>Save this chart to the dashboard.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="g-members-per-time-zone">g. Members per time zone<a class="hash-link" href="#g-members-per-time-zone" title="Direct link to heading">​</a></h3><p>Finally, we will be visualizing members per time zone. To do this, instead of casting in the SQL lab as we’ve previously done, we will explore another method to achieve casting by using Superset’s Virtual calculated column feature. This feature allows us to write SQL queries that customize the appearance and behavior of a specific column.</p><p>For our use case, we will need the updated column of the users table to be a <code>TIMESTAMP</code>, in order to perform the visualization we need for Members per time zone. Let’s start on clicking the edit icon on the users table in Superset.</p><p><img loading="lazy" src="/airbyte/assets/images/41-6bc8a5431bf44e660132cf62a08c2935.png" width="2164" height="238" class="img_E7b_"></p><p>You will be presented with a modal like so:</p><p><img loading="lazy" src="/airbyte/assets/images/42-aa4d2dbc7b927b5cf7dc522cddef1a5a.png" width="2166" height="1212" class="img_E7b_"></p><p>Click on the <strong>CALCULATED COLUMNS</strong> tab:</p><p><img loading="lazy" src="/airbyte/assets/images/43-c0ce19574ddcf249cbc897996415b33d.png" width="2166" height="1210" class="img_E7b_"></p><p>Then, click on the <strong>+ ADD ITEM</strong> button, and make your settings match the screenshot below.</p><p><img loading="lazy" src="/airbyte/assets/images/44-7eda20c8823856d93359639c80a9c062.png" width="2166" height="1206" class="img_E7b_"></p><p>Then, go to the <strong>exploration</strong> page and make it match the settings below:</p><p><img loading="lazy" src="/airbyte/assets/images/45-29603fff3e6b1914899da10040591f73.png" width="2170" height="1208" class="img_E7b_"></p><p>Now save this last chart, and head over to your Slack Dashboard. It should look like this:</p><p><img loading="lazy" src="/airbyte/assets/images/46-403db245d51348fd3fd3346bc84a0998.png" width="2166" height="1244" class="img_E7b_"></p><p>Of course, you can edit how the dashboard looks to fit what you want on it.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="conclusion">Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">​</a></h2><p>In this article, we looked at using Airbyte’s Slack connector to get the data from a Slack workspace into a Postgres database, and then used Apache Superset to craft a dashboard of visualizations.If you have any questions about Airbyte, don’t hesitate to ask questions on our <a href="https://slack.airbyte.io" target="_blank" rel="noopener noreferrer">Slack</a>! If you have questions about Superset, you can join the <a href="https://superset.apache.org/community/" target="_blank" rel="noopener noreferrer">Superset Community Slack</a>!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/airbytehq/airbyte/blob/gitbook/v1/README.md/../docs/archive/examples/build-a-slack-activity-dashboard.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-replicating-data-from-slack-to-postgres-with-airbyte" class="table-of-contents__link toc-highlight">1. Replicating Data from Slack to Postgres with Airbyte</a><ul><li><a href="#a-deploying-airbyte" class="table-of-contents__link toc-highlight">a. Deploying Airbyte</a></li><li><a href="#b-setting-up-airbytes-slack-source-connector" class="table-of-contents__link toc-highlight">b. Setting Up Airbyte’s Slack Source Connector</a></li><li><a href="#c-setting-up-airbytes-postgres-destination-connector" class="table-of-contents__link toc-highlight">c. Setting Up Airbyte’s Postgres Destination Connector</a></li><li><a href="#d-setting-up-the-replication" class="table-of-contents__link toc-highlight">d. Setting Up the Replication</a></li></ul></li><li><a href="#2-setting-up-apache-superset-for-the-dashboards" class="table-of-contents__link toc-highlight">2. Setting Up Apache Superset for the Dashboards</a><ul><li><a href="#a-installing-apache-superset" class="table-of-contents__link toc-highlight">a. Installing Apache Superset</a></li><li><a href="#b-setting-up-a-postgres-database-in-superset" class="table-of-contents__link toc-highlight">b. Setting Up a Postgres Database in Superset</a></li><li><a href="#c-importing-our-dataset" class="table-of-contents__link toc-highlight">c. Importing our dataset</a></li></ul></li><li><a href="#3-creating-our-dashboards-with-superset" class="table-of-contents__link toc-highlight">3. Creating Our Dashboards with Superset</a><ul><li><a href="#a-total-number-of-members-of-a-slack-workspace" class="table-of-contents__link toc-highlight">a. Total number of members of a Slack workspace</a></li><li><a href="#b-casting-the-ts-column" class="table-of-contents__link toc-highlight">b. Casting the ts column</a></li><li><a href="#c-the-evolution-of-the-number-of-slack-workspace-members" class="table-of-contents__link toc-highlight">c. The evolution of the number of Slack workspace members</a></li><li><a href="#d-evolution-of-weekly-messages-posted" class="table-of-contents__link toc-highlight">d. Evolution of weekly messages posted</a></li><li><a href="#e-evolution-of-weekly-threads-created" class="table-of-contents__link toc-highlight">e. Evolution of weekly threads created</a></li><li><a href="#f-evolution-of-messages-per-channel" class="table-of-contents__link toc-highlight">f. Evolution of messages per channel</a></li><li><a href="#g-members-per-time-zone" class="table-of-contents__link toc-highlight">g. Members per time zone</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/airbyte/assets/js/runtime~main.abcfd732.js"></script>
<script src="/airbyte/assets/js/main.1a15e96e.js"></script>
</body>
</html>