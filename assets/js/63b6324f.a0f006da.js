"use strict";(self.webpackChunkdocu=self.webpackChunkdocu||[]).push([[6752],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return m}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=c(n),m=r,h=p["".concat(l,".").concat(m)]||p[m]||u[m]||i;return n?a.createElement(h,o(o({ref:t},d),{},{components:n})):a.createElement(h,o({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},89810:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return u}});var a=n(87462),r=n(63366),i=(n(67294),n(3905)),o=["components"],s={},l="Connections and Sync Modes",c={unversionedId:"understanding-airbyte/connections/README",id:"understanding-airbyte/connections/README",title:"Connections and Sync Modes",description:"A connection is a configuration for syncing data between a source and a destination. To setup a connection, a user must configure things such as:",source:"@site/../docs/understanding-airbyte/connections/README.md",sourceDirName:"understanding-airbyte/connections",slug:"/understanding-airbyte/connections/",permalink:"/airbyte/understanding-airbyte/connections/",editUrl:"https://github.com/airbytehq/airbyte/docs/../docs/understanding-airbyte/connections/README.md",tags:[],version:"current",frontMatter:{},sidebar:"mySidebar",previous:{title:"Basic Normalization",permalink:"/airbyte/understanding-airbyte/basic-normalization"},next:{title:"Full Refresh - Overwrite",permalink:"/airbyte/understanding-airbyte/connections/full-refresh-overwrite"}},d={},u=[{value:"Sync schedules",id:"sync-schedules",level:2},{value:"Destination namespace",id:"destination-namespace",level:2},{value:"Destination stream name",id:"destination-stream-name",level:2},{value:"Prefix stream name",id:"prefix-stream-name",level:3},{value:"Stream-specific customization",id:"stream-specific-customization",level:2},{value:"Sync modes",id:"sync-modes",level:2},{value:"Optional operations",id:"optional-operations",level:2},{value:"Airbyte basic normalization",id:"airbyte-basic-normalization",level:3},{value:"Custom sync operations",id:"custom-sync-operations",level:3}],p={toc:u};function m(e){var t=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"connections-and-sync-modes"},"Connections and Sync Modes"),(0,i.kt)("p",null,"A connection is a configuration for syncing data between a source and a destination. To setup a connection, a user must configure things such as:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Sync schedule: when to trigger a sync of the data."),(0,i.kt)("li",{parentName:"ul"},"Destination ",(0,i.kt)("a",{parentName:"li",href:"/airbyte/understanding-airbyte/namespaces"},"Namespace")," and stream names: where the data will end up being written."),(0,i.kt)("li",{parentName:"ul"},"A catalog selection: which ",(0,i.kt)("a",{parentName:"li",href:"/airbyte/understanding-airbyte/catalog"},"streams and fields")," to replicate from the source"),(0,i.kt)("li",{parentName:"ul"},"Sync mode: how streams should be replicated ","(","read and write",")",":"),(0,i.kt)("li",{parentName:"ul"},"Optional transformations: how to convert Airbyte protocol messages ","(","raw JSON blob",")"," data into some other data representations. ")),(0,i.kt)("h2",{id:"sync-schedules"},"Sync schedules"),(0,i.kt)("p",null,"Sync schedules are explained below. For information about catalog selections, see ",(0,i.kt)("a",{parentName:"p",href:"/airbyte/understanding-airbyte/catalog"},"AirbyteCatalog & ConfiguredAirbyteCatalog"),"."),(0,i.kt)("p",null,"Syncs will be triggered by either:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"A manual request ","(",'i.e: clicking the "Sync Now" button in the UI',")"),(0,i.kt)("li",{parentName:"ul"},"A schedule")),(0,i.kt)("p",null,"When a scheduled connection is first created, a sync is executed as soon as possible. After that, a sync is run once the time since the last sync ","(","whether it was triggered manually or due to a schedule",")"," has exceeded the schedule interval. For example, consider the following illustrative scenario:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"October 1st, 2pm"),", a user sets up a connection to sync data every 24 hours."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"October 1st, 2:01pm"),": sync job runs"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"October 2nd, 2:01pm:")," 24 hours have passed since the last sync, so a sync is triggered."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"October 2nd, 5pm"),": The user manually triggers a sync from the UI"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"October 3rd, 2:01pm:")," since the last sync was less than 24 hours ago, no sync is run"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"October 3rd, 5:01pm:")," It has been more than 24 hours since the last sync, so a sync is run")),(0,i.kt)("h2",{id:"destination-namespace"},"Destination namespace"),(0,i.kt)("p",null,"The location of where a connection replication will store data is referenced as the destination namespace. The destination connectors should create and write records ","(","for both raw and normalized tables",")"," in the specified namespace which should be configurable in the UI via the Namespace Configuration field ","(","or NamespaceDefinition in the API",")",". You can read more about configuring namespaces ",(0,i.kt)("a",{parentName:"p",href:"/airbyte/understanding-airbyte/namespaces"},"here"),"."),(0,i.kt)("h2",{id:"destination-stream-name"},"Destination stream name"),(0,i.kt)("h3",{id:"prefix-stream-name"},"Prefix stream name"),(0,i.kt)("p",null,'Stream names refer to table names in a typical RDBMS. But it can also be the name of an API endpoint, etc. Similarly to the namespace, stream names can be configured to diverge from their names in the source with a "prefix" field. The prefix is prepended to the source stream name in the destination.'),(0,i.kt)("h2",{id:"stream-specific-customization"},"Stream-specific customization"),(0,i.kt)("p",null,"All the customization of namespace and stream names described above will be equally applied to all streams selected for replication in a catalog per connection. If you need more granular customization, stream by stream, for example, or with different logic rules, then you could follow the tutorial on ",(0,i.kt)("a",{parentName:"p",href:"/airbyte/operator-guides/transformation-and-normalization/transformations-with-dbt"},"customizing transformations with dbt"),"."),(0,i.kt)("h2",{id:"sync-modes"},"Sync modes"),(0,i.kt)("p",null,"A sync mode governs how Airbyte reads from a source and writes to a destination. Airbyte provides different sync modes to account for various use cases. To minimize confusion, a mode's behavior is reflected in its name. The easiest way to understand Airbyte's sync modes is to understand how the modes are named."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"The first part of the name denotes how the source connector reads data from the source:",(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},"Incremental: Read records added to the source since the last sync job. ","(","The first sync using Incremental is equivalent to a Full Refresh",")",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Method 1: Using a cursor. Generally supported by all connectors whose data source allows extracting records incrementally."),(0,i.kt)("li",{parentName:"ul"},"Method 2: Using change data capture. Only supported by some sources. See ",(0,i.kt)("a",{parentName:"li",href:"/airbyte/understanding-airbyte/cdc"},"CDC")," for more info."))),(0,i.kt)("li",{parentName:"ol"},"Full Refresh: Read everything in the source."))),(0,i.kt)("li",{parentName:"ol"},"The second part of the sync mode name denotes how the destination connector writes data. This is not affected by how the source connector produced the data:",(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},"Overwrite: Overwrite by first deleting existing data in the destination."),(0,i.kt)("li",{parentName:"ol"},"Append: Write by adding data to existing tables in the destination."),(0,i.kt)("li",{parentName:"ol"},"Deduped History: Write by first adding data to existing tables in the destination to keep a history of changes. The final table is produced by de-duplicating the intermediate ones using a primary key.")))),(0,i.kt)("p",null,"A sync mode is therefore, a combination of a source and destination mode together. The UI exposes the following options, whenever both source and destination connectors are capable to support it for the corresponding stream:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/airbyte/understanding-airbyte/connections/full-refresh-overwrite"},"Full Refresh Overwrite"),": Sync the whole stream and replace data in destination by overwriting it."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/airbyte/understanding-airbyte/connections/full-refresh-append"},"Full Refresh Append"),": Sync the whole stream and append data in destination."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/airbyte/understanding-airbyte/connections/incremental-append"},"Incremental Append"),": Sync new records from stream and append data in destination."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/airbyte/understanding-airbyte/connections/incremental-deduped-history"},"Incremental Deduped History"),": Sync new records from stream and append data in destination, also provides a de-duplicated view mirroring the state of the stream in the source.")),(0,i.kt)("h2",{id:"optional-operations"},"Optional operations"),(0,i.kt)("h3",{id:"airbyte-basic-normalization"},"Airbyte basic normalization"),(0,i.kt)("p",null,"As described by the ",(0,i.kt)("a",{parentName:"p",href:"/airbyte/understanding-airbyte/airbyte-specification"},"Airbyte Protocol from the Airbyte Specifications"),", a replication is composed of source connectors that are transmitting data in a JSON format. It is then written as such by the destination connectors."),(0,i.kt)("p",null,"On top of this replication, Airbyte provides the option to enable or disable an additional transformation step at the end of the sync called ",(0,i.kt)("a",{parentName:"p",href:"/airbyte/understanding-airbyte/basic-normalization"},"basic normalization"),". This operation is:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"only available for destinations that support dbt execution."),(0,i.kt)("li",{parentName:"ul"},"responsible for automatically generating a pipeline or a DAG of dbt transformation models to convert JSON blob objects into normalized tables."),(0,i.kt)("li",{parentName:"ul"},"responsible for running and applying these dbt models to the data written in the destination.")),(0,i.kt)("h3",{id:"custom-sync-operations"},"Custom sync operations"),(0,i.kt)("p",null,"Further operations can be included in a sync on top of Airbyte basic normalization ","(","or even to replace it completely",")",". See ",(0,i.kt)("a",{parentName:"p",href:"/airbyte/understanding-airbyte/operations"},"operations")," for more details."))}m.isMDXComponent=!0}}]);